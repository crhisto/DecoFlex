<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Run Deconvolution Tree Guided Recursively — run_deconvolution_tree_guided_recursive • DecoFlex</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Run Deconvolution Tree Guided Recursively — run_deconvolution_tree_guided_recursive"><meta property="og:description" content="This function uses a tree-guided method to perform a recursive deconvolution
operation on bulk and single-cell data. The recursive method helps in
analyzing hierarchically structured data, usually encountered in biological
systems where a set of cell types are hierarchically organized based on
their molecular similarity. The method starts at the top level,
identifies clusters, calculates markers, performs deconvolution, and
propagates the information back to guide the deconvolution at the next level."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DecoFlex</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">References</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/crhisto/DecoFlex" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run Deconvolution Tree Guided Recursively</h1>
    <small class="dont-index">Source: <a href="https://github.com/crhisto/DecoFlex/blob/HEAD/R/tree_guided_deconvolution.R" class="external-link"><code>R/tree_guided_deconvolution.R</code></a></small>
    <div class="hidden name"><code>run_deconvolution_tree_guided_recursive.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function uses a tree-guided method to perform a recursive deconvolution
operation on bulk and single-cell data. The recursive method helps in
analyzing hierarchically structured data, usually encountered in biological
systems where a set of cell types are hierarchically organized based on
their molecular similarity. The method starts at the top level,
identifies clusters, calculates markers, performs deconvolution, and
propagates the information back to guide the deconvolution at the next level.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">run_deconvolution_tree_guided_recursive</span><span class="op">(</span></span>
<span>  result_deco_top <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">bulk_data</span>,</span>
<span>  true_proportions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">single_cell_data_exp</span>,</span>
<span>  <span class="va">sub_clusters_var</span>,</span>
<span>  <span class="va">hierarchy</span>,</span>
<span>  <span class="va">sample</span>,</span>
<span>  use_min_cor_strategy <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  delete_shared_level_markers <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  delete_shared_internal_markers <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  deconvolute_just_top <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  deconvolute_top_hierarchy_limit <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  filter_markers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  param.logfc.threshold <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  param.p_val_adj <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  test.use.value <span class="op">=</span> <span class="st">"wilcox"</span>,</span>
<span>  marker_strategy <span class="op">=</span> <span class="st">"keep_default_values"</span>,</span>
<span>  minimum_markers <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  min_delta_cor_threshold <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>result_deco_top</dt>
<dd><p>A list representing the result of deconvolution at
the top level of the hierarchy. If NULL (default), the function
starts at the root of the tree.</p></dd>


<dt>bulk_data</dt>
<dd><p>The bulk data on which the deconvolution needs to be
performed.</p></dd>


<dt>true_proportions</dt>
<dd><p>An optional matrix representing the true proportions
of cell types. This can be used to calculate the accuracy of
the deconvolution. If NULL (default), the accuracy calculation is skipped.</p></dd>


<dt>single_cell_data_exp</dt>
<dd><p>A data frame representing single cell expression
data, used to guide the deconvolution process.</p></dd>


<dt>sub_clusters_var</dt>
<dd><p>A string representing the variable in
single_cell_data_exp which indicates sub-clusters.</p></dd>


<dt>hierarchy</dt>
<dd><p>A list structure describing the hierarchy of cell type
clustering.</p></dd>


<dt>sample</dt>
<dd><p>A string representing the sample name.</p></dd>


<dt>use_min_cor_strategy</dt>
<dd><p>A boolean indicating whether to use the minimum
correlation strategy during the marker calculation phase. Default is TRUE.</p></dd>


<dt>delete_shared_level_markers</dt>
<dd><p>A boolean indicating whether to delete
shared level markers during the marker calculation phase.
Default is FALSE.</p></dd>


<dt>delete_shared_internal_markers</dt>
<dd><p>A boolean indicating whether to delete
shared internal markers during the marker calculation phase.
Default is FALSE.</p></dd>


<dt>deconvolute_just_top</dt>
<dd><p>A boolean indicating whether to perform
deconvolution only at the top level. If TRUE (default is FALSE), the
function stops after deconvoluting the top level and returns the result.</p></dd>


<dt>deconvolute_top_hierarchy_limit</dt>
<dd><p>An integer indicating the top
hierarchy limit for deconvolution. Default is 1.</p></dd>


<dt>filter_markers</dt>
<dd><p>An optional list of markers to be used for filtering
during the marker calculation phase. If NULL (default), no filtering is
performed.</p></dd>


<dt>param.logfc.threshold</dt>
<dd><p>A numeric value representing the log-fold-change
threshold for marker calculation. Default is 2.0.</p></dd>


<dt>param.p_val_adj</dt>
<dd><p>A numeric value representing the adjusted p-value
threshold for marker calculation. Default is 0.05.</p></dd>


<dt>test.use.value</dt>
<dd><p>A string indicating the statistical test to use for
marker calculation. Default is 'wilcox'.</p></dd>


<dt>marker_strategy</dt>
<dd><p>An optional string representing the marker selection
strategy. If NULL (default), a default strategy is used.</p></dd>


<dt>minimum_markers</dt>
<dd><p>The minimum number of marker genes to be selected,
default is set to 4. This can be adjusted based on the analysis
requirements.</p></dd>


<dt>min_delta_cor_threshold</dt>
<dd><p>Minimum difference between the correlation of
t and t-1 steps. The idea is to skip genes that have small changes in
the correlation. For default it is a 5%.</p></dd>


<dt>verbose</dt>
<dd><p>A boolean indicating whether to print detailed messages during
the execution of the function. Default is FALSE.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list containing the result of the top level deconvolution, a list
of deconvolution results at each level, and the back-propagated proportions
at the top level.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Crhistian Cardona.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

